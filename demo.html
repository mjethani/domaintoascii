<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>domaintoascii demo</title>
    <style>
      body {
        display: flex;
        flex-direction: column;
        align-items: center;
        font-size: 200%;
        font-family: sans-serif;
      }

      input {
        font-size: 200%;
        text-align: center;
      }
    </style>
    <script>
      function handleDomain() {
        let { value } = document.getElementById('domain');

        new Promise(resolve => {
          resolve(import('./index.js?use-wasm'));
        })
        .then(({ domainToASCII }) => {
          let encoded = domainToASCII(value);
          document.getElementById('encoded').textContent = encoded;
        });

        return false;
      }
    </script>
  </head>
  <body onload="handleDomain()">
    <p>Enter a domain name</p>
    <form onsubmit="return handleDomain()">
      <input id="domain" value="i❤️.ws">
    </form>
    <p id="encoded"></p>
  </body>
</html>
